<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UtiliHub Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #2c3e50;
      --primary: #6366f1;
      --card: #ffffff;
      --shadow: rgba(0, 0, 0, 0.08);
      --input-border: #d1d5db;
      --radius: 1rem;
      --transition: 0.3s ease;
    }

    body.dark-mode {
      --bg: #0d1117;
      --text: #d1d5db;
      --primary: #8b5cf6;
      --card: #161b22;
      --shadow: rgba(255, 255, 255, 0.05);
      --input-border: #374151;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background var(--transition), color var(--transition);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      background: var(--primary);
      color: white;
      padding: 1.5rem 2rem;
      text-align: center;
      font-size: 2rem;
      font-weight: 700;
      box-shadow: 0 2px 10px var(--shadow);
      letter-spacing: 0.05em;
      z-index: 10;
    }

    .dark-toggle {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      width: 60px;
      height: 60px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px var(--shadow);
      transition: background var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .dark-toggle:hover {
      background: #4f46e5;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      padding: 2rem;
      max-width: 1200px;
      margin: auto;
      width: 100%;
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 6px 18px var(--shadow);
      padding: 2rem;
      transition: transform var(--transition), box-shadow var(--transition);
      display: flex;
      flex-direction: column;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 24px var(--shadow);
    }

    .card h2 {
      margin: 0 0 1rem;
      font-size: 1.5rem;
      color: var(--primary);
    }

    input, select, button, textarea {
      padding: 0.75rem 1rem;
      width: 100%;
      margin-top: 0.75rem;
      border-radius: 0.75rem;
      border: 1.5px solid var(--input-border);
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
      background: transparent;
      color: var(--text);
      transition: border var(--transition);
    }
    input:focus, select:focus, textarea:focus {
      border-color: var(--primary);
      outline: none;
    }

    button {
      background: var(--primary);
      color: white;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: background var(--transition);
      margin-top: 1rem;
    }
    button:hover:not(:disabled) {
      background: #4f46e5;
    }
    button:disabled {
      background: #a1a1aa;
      cursor: not-allowed;
    }

    .output {
      margin-top: 1rem;
      font-weight: 600;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .copy-btn {
      background: transparent;
      color: var(--primary);
      border: none;
      cursor: pointer;
      font-size: 1rem;
      padding: 0.25rem 0.5rem;
      border-radius: 0.5rem;
      transition: background var(--transition), color var(--transition);
    }
    .copy-btn:hover {
      background: var(--primary);
      color: white;
    }

    fieldset {
      border: none;
      padding: 0;
      margin-top: 0.75rem;
    }
    fieldset label {
      display: block;
      margin-top: 0.25rem;
    }
  </style>
</head>
<body>
  </style>
</head>
<body>
  <header>üõ†Ô∏è UtiliHub Dashboard</header>
  <button class="dark-toggle" aria-label="Toggle dark mode" title="Toggle dark mode" onclick="toggleDarkMode()">üåì</button>

  <div class="container">
    <!-- Random Number Generator -->
    <div class="card" id="random">
      <h2>Random Number Generator</h2>
      <select id="digitCount" aria-label="Select digit count">
        <option value="4">4 Digits</option>
        <option value="5">5 Digits</option>
        <option value="6">6 Digits</option>
      </select>
      <button onclick="generateRandom()">Generate</button>
      <div class="output" id="randomOutput" aria-live="polite"></div>
    </div>

    <!-- Calculator -->
    <div class="card" id="calculator">
      <h2>Basic Calculator</h2>
      <input type="number" id="calcNum1" placeholder="First number" aria-label="First number" />
      <input type="number" id="calcNum2" placeholder="Second number" aria-label="Second number" />
      <select id="calcOperation" aria-label="Select operation">
        <option value="add">+</option>
        <option value="subtract">-</option>
        <option value="multiply">*</option>
        <option value="divide">/</option>
      </select>
      <button onclick="calculate()">Calculate</button>
      <div class="output" id="calcOutput" aria-live="polite"></div>
    </div>

    <!-- Unit Converter -->
    <div class="card" id="converter">
      <h2>Unit Converter</h2>
      <input type="number" id="inputValue" placeholder="Enter value" aria-label="Value to convert" />
      <select id="conversionType" aria-label="Select conversion type">
        <option value="cmToMm">cm to mm</option>
        <option value="mmToCm">mm to cm</option>
        <option value="inchToCm">inch to cm</option>
        <option value="cmToInch">cm to inch</option>
        <option value="literToMl">liter to ml</option>
        <option value="mlToLiter">ml to liter</option>
        <option value="kgToGram">kg to gram</option>
        <option value="gramToKg">gram to kg</option>
        <option value="mileToKm">mile to km</option>
        <option value="kmToMile">km to mile</option>
      </select>
      <button onclick="convert()">Convert</button>
      <div class="output" id="convertOutput" aria-live="polite"></div>
    </div>

    <!-- Currency Converter -->
    <div class="card" id="currencyConverter">
      <h2>Currency Converter</h2>
      <input type="number" id="currencyAmount" placeholder="Amount" aria-label="Currency amount" />
      <select id="currencyFrom" aria-label="From currency">
        <option value="USD">USD - US Dollar</option>
        <option value="EUR">EUR - Euro</option>
        <option value="GBP">GBP - British Pound</option>
        <option value="JPY">JPY - Japanese Yen</option>
        <option value="AUD">AUD - Australian Dollar</option>
        <option value="CAD">CAD - Canadian Dollar</option>
        <option value="INR">INR - Indian Rupee</option>
        <option value="CNY">CNY - Chinese Yuan</option>
      </select>
      <select id="currencyTo" aria-label="To currency">
        <option value="USD">USD - US Dollar</option>
        <option value="EUR">EUR - Euro</option>
        <option value="GBP">GBP - British Pound</option>
        <option value="JPY">JPY - Japanese Yen</option>
        <option value="AUD">AUD - Australian Dollar</option>
        <option value="CAD">CAD - Canadian Dollar</option>
        <option value="INR">INR - Indian Rupee</option>
        <option value="CNY">CNY - Chinese Yuan</option>
      </select>
      <button onclick="convertCurrency()">Convert</button>
      <div class="output" id="currencyOutput" aria-live="polite"></div>
    </div>

    <!-- Password Generator -->
    <div class="card" id="passwordGenerator">
      <h2>Password Generator</h2>
      <label for="passLength">Password Length:</label>
      <input type="number" id="passLength" min="4" max="64" value="12" aria-label="Password length" />
      <fieldset style="margin-top: 10px; border: none; padding: 0;">
        <legend>Include Characters:</legend>
        <label><input type="checkbox" id="includeUpper" checked /> Uppercase (A-Z)</label><br />
        <label><input type="checkbox" id="includeLower" checked /> Lowercase (a-z)</label><br />
        <label><input type="checkbox" id="includeNumbers" checked /> Numbers (0-9)</label><br />
        <label><input type="checkbox" id="includeSymbols" /> Symbols (!@#$...)</label>
      </fieldset>
      <button onclick="generatePassword()">Generate Password</button>
      <div class="output" id="passwordOutput" aria-live="polite"></div>
    </div>

    <!-- Text Converter -->
    <div class="card" id="textConverter">
      <h2>Text Converter</h2>
      <textarea id="textInput" rows="4" placeholder="Enter text here" aria-label="Input text"></textarea>
      <select id="textConversionType" aria-label="Select text conversion">
        <option value="uppercase">Uppercase</option>
        <option value="lowercase">Lowercase</option>
        <option value="capitalize">Capitalize Each Word</option>
        <option value="reverse">Reverse Text</option>
        <option value="removeSpaces">Remove Extra Spaces</option>
      </select>
      <button onclick="convertText()">Convert</button>
      <div class="output" id="textOutput" aria-live="polite"></div>
    </div>

    <!-- Date Difference Calculator -->
    <div class="card" id="dateDifference">
      <h2>Date Difference Calculator</h2>
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" aria-label="Start date" />
      <label for="endDate" style="margin-top: 10px;">End Date:</label>
      <input type="date" id="endDate" aria-label="End date" />
      <button onclick="calculateDateDiff()">Calculate Difference</button>
      <div class="output" id="dateDiffOutput" aria-live="polite"></div>
    </div>
  </div>

  <script>
    // Dark mode toggle and remember preference
    const darkToggle = document.querySelector('.dark-toggle');
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    }
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }

    // Random Number Generator
    function generateRandom() {
      const digitCount = parseInt(document.getElementById('digitCount').value);
      if (isNaN(digitCount) || digitCount < 1) return;
      const min = 10 ** (digitCount - 1);
      const max = (10 ** digitCount) - 1;
      const num = Math.floor(Math.random() * (max - min + 1)) + min;
      setOutput('randomOutput', num.toString());
    }

    // Calculator
    function calculate() {
      const num1 = parseFloat(document.getElementById('calcNum1').value);
      const num2 = parseFloat(document.getElementById('calcNum2').value);
      const op = document.getElementById('calcOperation').value;
      if (isNaN(num1) || isNaN(num2)) {
        setOutput('calcOutput', 'Please enter valid numbers');
        return;
      }
      let res;
      switch (op) {
        case 'add': res = num1 + num2; break;
        case 'subtract': res = num1 - num2; break;
        case 'multiply': res = num1 * num2; break;
        case 'divide': 
          if (num2 === 0) {
            setOutput('calcOutput', 'Cannot divide by zero');
            return;
          }
          res = num1 / num2; 
          break;
      }
      setOutput('calcOutput', res.toString());
    }

    // Unit Converter
    function convert() {
      const val = parseFloat(document.getElementById('inputValue').value);
      const type = document.getElementById('conversionType').value;
      if (isNaN(val)) {
        setOutput('convertOutput', 'Please enter a valid number');
        return;
      }
      let result;
      switch(type) {
        case 'cmToMm': result = val * 10; break;
        case 'mmToCm': result = val / 10; break;
        case 'inchToCm': result = val * 2.54; break;
        case 'cmToInch': result = val / 2.54; break;
        case 'literToMl': result = val * 1000; break;
        case 'mlToLiter': result = val / 1000; break;
        case 'kgToGram': result = val * 1000; break;
        case 'gramToKg': result = val / 1000; break;
        case 'mileToKm': result = val * 1.60934; break;
        case 'kmToMile': result = val / 1.60934; break;
        default: result = val;
      }
      setOutput('convertOutput', result.toFixed(4));
    }

    // Currency Converter with static rates (example)
    const rates = {
      USD: 1,
      EUR: 0.92,
      GBP: 0.81,
      JPY: 138.44,
      AUD: 1.48,
      CAD: 1.36,
      INR: 83.74,
      CNY: 7.18
    };
    function convertCurrency() {
      const amount = parseFloat(document.getElementById('currencyAmount').value);
      const from = document.getElementById('currencyFrom').value;
      const to = document.getElementById('currencyTo').value;
      if (isNaN(amount) || amount < 0) {
        setOutput('currencyOutput', 'Please enter a valid positive amount');
        return;
      }
      if (!(from in rates) || !(to in rates)) {
        setOutput('currencyOutput', 'Unsupported currency');
        return;
      }
      const usdAmount = amount / rates[from];
      const converted = usdAmount * rates[to];
      setOutput('currencyOutput', `${converted.toFixed(2)} ${to}`);
    }

    // Password Generator
    function generatePassword() {
      const length = parseInt(document.getElementById('passLength').value);
      if (isNaN(length) || length < 4 || length > 64) {
        setOutput('passwordOutput', 'Length must be between 4 and 64');
        return;
      }
      const includeUpper = document.getElementById('includeUpper').checked;
      const includeLower = document.getElementById('includeLower').checked;
      const includeNumbers = document.getElementById('includeNumbers').checked;
      const includeSymbols = document.getElementById('includeSymbols').checked;

      let charSet = '';
      if (includeUpper) charSet += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      if (includeLower) charSet += 'abcdefghijklmnopqrstuvwxyz';
      if (includeNumbers) charSet += '0123456789';
      if (includeSymbols) charSet += '!@#$%^&*()-_=+[]{}|;:,.<>?';

      if (charSet.length === 0) {
        setOutput('passwordOutput', 'Select at least one character type');
        return;
      }

      let password = '';
      for (let i = 0; i < length; i++) {
        password += charSet.charAt(Math.floor(Math.random() * charSet.length));
      }
      setOutput('passwordOutput', password);
    }

    // Text Converter
    function convertText() {
      const text = document.getElementById('textInput').value;
      const type = document.getElementById('textConversionType').value;
      let result = '';
      switch(type) {
        case 'uppercase':
          result = text.toUpperCase();
          break;
        case 'lowercase':
          result = text.toLowerCase();
          break;
        case 'capitalize':
          result = text.replace(/\b\w/g, c => c.toUpperCase());
          break;
        case 'reverse':
          result = text.split('').reverse().join('');
          break;
        case 'removeSpaces':
          result = text.replace(/\s+/g, ' ').trim();
          break;
        default:
          result = text;
      }
      setOutput('textOutput', result);
    }

    // Date Difference Calculator
    function calculateDateDiff() {
      const start = document.getElementById('startDate').value;
      const end = document.getElementById('endDate').value;
      if (!start || !end) {
        setOutput('dateDiffOutput', 'Please select both dates');
        return;
      }
      const startDate = new Date(start);
      const endDate = new Date(end);
      if (startDate > endDate) {
        setOutput('dateDiffOutput', 'Start date must be before end date');
        return;
      }
      const diffMs = endDate - startDate;
      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
      setOutput('dateDiffOutput', `${diffDays} day(s)`);
    }

    // Helper for output with copy button
    function setOutput(id, text) {
      const container = document.getElementById(id);
      container.innerHTML = '';

      if (!text) return;

      const span = document.createElement('span');
      span.textContent = text;

      const btn = document.createElement('button');
      btn.className = 'copy-btn';
      btn.title = 'Copy to clipboard';
      btn.setAttribute('aria-label', 'Copy output to clipboard');
      btn.innerHTML = 'üìã';
      btn.onclick = () => {
        navigator.clipboard.writeText(text).then(() => {
          btn.textContent = '‚úîÔ∏è';
          setTimeout(() => { btn.textContent = 'üìã'; }, 1500);
        }).catch(() => {
          alert('Failed to copy');
        });
      };

      container.appendChild(span);
      container.appendChild(btn);
    }
  </script>
</body>
</html>
