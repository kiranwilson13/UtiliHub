<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Utilities Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #2c3e50;
      --primary: #4e73df;
      --card: #ffffff;
      --shadow: rgba(0, 0, 0, 0.05);
      --input-border: #ccc;
    }

    body.dark-mode {
      --bg: #121212;
      --text: #e0e0e0;
      --primary: #7289da;
      --card: #1e1e1e;
      --shadow: rgba(255, 255, 255, 0.1);
      --input-border: #555;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

/* Header stays the same as before */
header {
  background: var(--primary);
  color: white;
  padding: 20px 24px;
  text-align: center;
  font-size: 2rem;
  font-weight: 700;
  user-select: none;
  box-shadow: 0 3px 8px var(--shadow);
  letter-spacing: 1px;
  position: relative;
  z-index: 5;
}

/* Dark mode toggle on the LEFT side */
.dark-toggle {
  position: fixed;
  top: 40px;      /* vertical offset from top */
  left: 20px;     /* fixed left margin */
  background: var(--primary);
  color: white;
  padding: 12px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 1.3rem;
  transition: background 0.3s ease;
  z-index: 10;
  box-shadow: 0 3px 8px var(--shadow);
}
.dark-toggle:hover {
  background: #596ddf;
}

/* On small screens, keep it at top-left but smaller and spaced */
@media (max-width: 768px) {
  .dark-toggle {
    top: 12px;
    left: 16px;
    padding: 10px;
    font-size: 1.1rem;
    z-index: 15;
  }
  header {
    padding-top: 60px; /* space if needed */
  }
}

    .dark-toggle:hover {
      background: #596ddf;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
      gap: 24px;
      flex-grow: 1;
      max-width: 1200px;
      margin: 0 auto 40px;
      width: 100%;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 6px 18px var(--shadow);
      padding: 24px;
      width: 100%;
      max-width: 400px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
    }
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 10px 24px var(--shadow);
    }

    .card h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--primary);
      user-select: none;
    }

    input, select, button {
      padding: 12px 14px;
      width: 100%;
      margin-top: 10px;
      border-radius: 10px;
      border: 1.8px solid var(--input-border);
      font-size: 1rem;
      outline-offset: 2px;
      outline-color: transparent;
      transition: border-color 0.3s ease;
      font-family: 'Inter', sans-serif;
    }
    input:focus, select:focus, button:focus {
      border-color: var(--primary);
      outline-color: var(--primary);
    }

    button {
      background: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 600;
      margin-top: 16px;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    button:hover:not(:disabled) {
      background: #3b5ecb;
    }
    button:disabled {
      background: #999;
      cursor: not-allowed;
    }

    .output {
      margin-top: 18px;
      font-weight: 600;
      font-size: 1.2rem;
      word-break: break-word;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .copy-btn {
      background: transparent;
      color: var(--primary);
      border: none;
      cursor: pointer;
      font-size: 1rem;
      user-select: none;
      padding: 4px 8px;
      border-radius: 6px;
      transition: background-color 0.2s ease;
    }
    .copy-btn:hover {
      background-color: var(--primary);
      color: white;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .container {
        max-width: 90vw;
      }
    }
    @media (max-width: 768px) {
      header {
        font-size: 1.5rem;
        padding: 14px 16px;
      }
      .container {
        flex-direction: column;
        align-items: center;
        padding: 10px;
        gap: 20px;
      }
      .card {
        max-width: 100%;
      }
      .dark-toggle {
        top: 12px;
        right: 12px;
        padding: 10px;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header>üõ†Ô∏è Utilities Dashboard</header>
  <button class="dark-toggle" aria-label="Toggle dark mode" title="Toggle dark mode" onclick="toggleDarkMode()">üåì</button>

  <div class="container">
    <!-- Random Number Generator -->
    <div class="card" id="random">
      <h2>Random Number Generator</h2>
      <select id="digitCount" aria-label="Select digit count">
        <option value="4">4 Digits</option>
        <option value="5">5 Digits</option>
        <option value="6">6 Digits</option>
      </select>
      <button onclick="generateRandom()">Generate</button>
      <div class="output" id="randomOutput" aria-live="polite"></div>
    </div>

    <!-- Calculator -->
    <div class="card" id="calculator">
      <h2>Basic Calculator</h2>
      <input type="number" id="calcNum1" placeholder="First number" aria-label="First number" />
      <input type="number" id="calcNum2" placeholder="Second number" aria-label="Second number" />
      <select id="calcOperation" aria-label="Select operation">
        <option value="add">+</option>
        <option value="subtract">-</option>
        <option value="multiply">*</option>
        <option value="divide">/</option>
      </select>
      <button onclick="calculate()">Calculate</button>
      <div class="output" id="calcOutput" aria-live="polite"></div>
    </div>

    <!-- Unit Converter -->
    <div class="card" id="converter">
      <h2>Unit Converter</h2>
      <input type="number" id="inputValue" placeholder="Enter value" aria-label="Value to convert" />
      <select id="conversionType" aria-label="Select conversion type">
        <option value="cmToMm">cm to mm</option>
        <option value="mmToCm">mm to cm</option>
        <option value="inchToCm">inch to cm</option>
        <option value="cmToInch">cm to inch</option>
        <option value="literToMl">liter to ml</option>
        <option value="mlToLiter">ml to liter</option>
        <option value="kgToGram">kg to gram</option>
        <option value="gramToKg">gram to kg</option>
        <option value="mileToKm">mile to km</option>
        <option value="kmToMile">km to mile</option>
      </select>
      <button onclick="convert()">Convert</button>
      <div class="output" id="convertOutput" aria-live="polite"></div>
    </div>

    <!-- Currency Converter -->
    <div class="card" id="currencyConverter">
      <h2>Currency Converter</h2>
      <input type="number" id="currencyAmount" placeholder="Amount" aria-label="Currency amount" />
      <select id="currencyFrom" aria-label="From currency">
        <option value="USD">USD - US Dollar</option>
        <option value="EUR">EUR - Euro</option>
        <option value="GBP">GBP - British Pound</option>
        <option value="JPY">JPY - Japanese Yen</option>
        <option value="AUD">AUD - Australian Dollar</option>
        <option value="CAD">CAD - Canadian Dollar</option>
        <option value="INR">INR - Indian Rupee</option>
        <option value="CNY">CNY - Chinese Yuan</option>
      </select>
      <select id="currencyTo" aria-label="To currency">
        <option value="USD">USD - US Dollar</option>
        <option value="EUR">EUR - Euro</option>
        <option value="GBP">GBP - British Pound</option>
        <option value="JPY">JPY - Japanese Yen</option>
        <option value="AUD">AUD - Australian Dollar</option>
        <option value="CAD">CAD - Canadian Dollar</option>
        <option value="INR">INR - Indian Rupee</option>
        <option value="CNY">CNY - Chinese Yuan</option>
      </select>
      <button onclick="convertCurrency()">Convert</button>
      <div class="output" id="currencyOutput" aria-live="polite"></div>
    </div>

    <!-- Percentage Calculator -->
    <div class="card" id="percentageCalculator">
      <h2>Percentage Calculator</h2>
      <input type="number" id="percentageValue" placeholder="Value" aria-label="Value" />
      <input type="number" id="percentageTotal" placeholder="Total" aria-label="Total" />
      <button onclick="calculatePercentage()">Calculate %</button>
      <div class="output" id="percentageOutput" aria-live="polite"></div>
    </div>

    <!-- Age Calculator -->
    <div class="card" id="ageCalculator">
      <h2>Age Calculator</h2>
      <input type="date" id="birthDate" aria-label="Date of birth" />
      <button onclick="calculateAge()">Calculate Age</button>
      <div class="output" id="ageOutput" aria-live="polite"></div>
    </div>

    <!-- BMI Calculator -->
    <div class="card" id="bmiCalculator">
      <h2>BMI Calculator</h2>
      <input type="number" id="bmiWeight" placeholder="Weight (kg)" aria-label="Weight in kilograms" />
      <input type="number" id="bmiHeight" placeholder="Height (cm)" aria-label="Height in centimeters" />
      <button onclick="calculateBMI()">Calculate BMI</button>
      <div class="output" id="bmiOutput" aria-live="polite"></div>
    </div>

  </div>

  <script>
    // Random Number Generator
    function generateRandom() {
      const digits = parseInt(document.getElementById('digitCount').value);
      if (digits < 1) return;
      const min = Math.pow(10, digits - 1);
      const max = Math.pow(10, digits) - 1;
      const result = Math.floor(Math.random() * (max - min + 1)) + min;
      const output = document.getElementById('randomOutput');
      output.innerHTML = `Result: ${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Basic Calculator
    function calculate() {
      const num1 = parseFloat(document.getElementById('calcNum1').value);
      const num2 = parseFloat(document.getElementById('calcNum2').value);
      const op = document.getElementById('calcOperation').value;

      if (isNaN(num1) || isNaN(num2)) {
        return displayCalcOutput("Please enter valid numbers");
      }

      let result;

      switch (op) {
        case "add": result = num1 + num2; break;
        case "subtract": result = num1 - num2; break;
        case "multiply": result = num1 * num2; break;
        case "divide": result = num2 !== 0 ? num1 / num2 : "Error (div by zero)"; break;
        default: result = "Invalid operation";
      }

      displayCalcOutput(result);
    }
    function displayCalcOutput(result) {
      const out = document.getElementById('calcOutput');
      out.innerHTML = `Result: ${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Unit Converter
    function convert() {
      const value = parseFloat(document.getElementById('inputValue').value);
      const type = document.getElementById('conversionType').value;
      if (isNaN(value)) {
        return displayConvertOutput("Please enter a valid number");
      }
      let result;

      switch (type) {
        case "cmToMm": result = (value * 10).toFixed(2) + " mm"; break;
        case "mmToCm": result = (value / 10).toFixed(2) + " cm"; break;
        case "inchToCm": result = (value * 2.54).toFixed(2) + " cm"; break;
        case "cmToInch": result = (value / 2.54).toFixed(2) + " in"; break;
        case "literToMl": result = (value * 1000).toFixed(2) + " ml"; break;
        case "mlToLiter": result = (value / 1000).toFixed(3) + " liters"; break;
        case "kgToGram": result = (value * 1000).toFixed(2) + " g"; break;
        case "gramToKg": result = (value / 1000).toFixed(3) + " kg"; break;
        case "mileToKm": result = (value * 1.60934).toFixed(3) + " km"; break;
        case "kmToMile": result = (value / 1.60934).toFixed(3) + " miles"; break;
        default: result = "Unknown conversion";
      }

      displayConvertOutput(result);
    }
    function displayConvertOutput(result) {
      const out = document.getElementById('convertOutput');
      out.innerHTML = `Converted: ${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Currency Converter (using static exchange rates for demo)
    const exchangeRates = {
      USD: 1,
      EUR: 0.92,
      GBP: 0.81,
      JPY: 145.2,
      AUD: 1.45,
      CAD: 1.34,
      INR: 83.1,
      CNY: 6.97
    };

    function convertCurrency() {
      const amount = parseFloat(document.getElementById('currencyAmount').value);
      const from = document.getElementById('currencyFrom').value;
      const to = document.getElementById('currencyTo').value;

      if (isNaN(amount) || amount < 0) {
        return displayCurrencyOutput("Please enter a valid positive amount");
      }

      if (!(from in exchangeRates) || !(to in exchangeRates)) {
        return displayCurrencyOutput("Currency not supported");
      }

      // Convert amount to USD base, then to target
      const amountInUSD = amount / exchangeRates[from];
      const converted = amountInUSD * exchangeRates[to];
      const result = converted.toFixed(4);

      displayCurrencyOutput(`${amount} ${from} = ${result} ${to}`);
    }
    function displayCurrencyOutput(result) {
      const out = document.getElementById('currencyOutput');
      out.innerHTML = `${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Percentage Calculator
    function calculatePercentage() {
      const val = parseFloat(document.getElementById('percentageValue').value);
      const total = parseFloat(document.getElementById('percentageTotal').value);
      if (isNaN(val) || isNaN(total) || total === 0) {
        return displayPercentageOutput("Please enter valid numbers (total not zero)");
      }
      const percent = ((val / total) * 100).toFixed(2);
      displayPercentageOutput(`${percent} %`);
    }
    function displayPercentageOutput(result) {
      const out = document.getElementById('percentageOutput');
      out.innerHTML = `Percentage: ${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Age Calculator
    function calculateAge() {
      const dobInput = document.getElementById('birthDate').value;
      if (!dobInput) {
        return displayAgeOutput("Please select your birth date");
      }
      const dob = new Date(dobInput);
      const today = new Date();

      if (dob > today) {
        return displayAgeOutput("Birth date cannot be in the future");
      }

      let age = today.getFullYear() - dob.getFullYear();
      const m = today.getMonth() - dob.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
        age--;
      }

      displayAgeOutput(`${age} year(s) old`);
    }
    function displayAgeOutput(result) {
      const out = document.getElementById('ageOutput');
      out.innerHTML = `Age: ${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // BMI Calculator
    function calculateBMI() {
      const weight = parseFloat(document.getElementById('bmiWeight').value);
      const heightCm = parseFloat(document.getElementById('bmiHeight').value);

      if (isNaN(weight) || isNaN(heightCm) || weight <= 0 || heightCm <= 0) {
        return displayBMIOutput("Please enter valid positive numbers");
      }

      const heightM = heightCm / 100;
      const bmi = (weight / (heightM * heightM)).toFixed(2);

      let category = "";
      if (bmi < 18.5) category = "Underweight";
      else if (bmi < 25) category = "Normal weight";
      else if (bmi < 30) category = "Overweight";
      else category = "Obesity";

      displayBMIOutput(`BMI: ${bmi} (${category})`);
    }
    function displayBMIOutput(result) {
      const out = document.getElementById('bmiOutput');
      out.innerHTML = `${result} <button class="copy-btn" onclick="copyText('${result}')">Copy</button>`;
    }

    // Dark mode toggle
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    // Copy to clipboard helper
    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert(`Copied: ${text}`);
      });
    }
  </script>
</body>
</html>
